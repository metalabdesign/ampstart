{{!
<!---
Copyright 2016 The AMP Start Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
}}

<!-- Hero -->
{{#partials.hero}}
<section
  class="relative travel-hero travel-hero-visible"
  [class]="'relative travel-hero' + (ui_hero ? ' travel-hero-visible' : '')"
>
  <div class="travel-hero-bg">
    {{#images}}
      <amp-img
        class="travel-hero-bg-img"
        src="{{src}}"
        height="80vmax"
      ></amp-img>
    {{/images}}
    <div class="travel-hero-bg-fade"></div>
  </div>

  <div class="travel-hero-angles container">
    <div class="travel-hero-angle-left">
      <div class="travel-hero-angle-1"></div>
    </div>
    <div class="travel-hero-angle-left">
      <div class="travel-hero-angle-2"></div>
    </div>
    <div class="travel-hero-angle-right">
      <div class="travel-hero-angle-3"></div>
    </div>
  </div>

  <div class="travel-hero-content container flex items-center">
    <div class="travel-hero-content-inner relative px1 md-px2 flex-auto">
      <h1 class="travel-hero-heading mb2 line-height-1">Adventures<br class="md-hide lg-hide"/> made&nbsp;easy</h1>
      <div class="travel-hero-subheading xs-hide sm-hide">Find and book activities, tours, and experiences.</div>
      <!-- Search Form -->
      <div class="travel-hero-search">
        <div class="md-hide lg-hide">
          <label class="input-icon shadow rounded">
            <input
              class="input border input-big input-clear rounded"
              list="locations"
              type="text"
              name="query"
              placeholder="Where would you like to go?"
              on="
                change:AMP.setState({
                  fields_query: event.value,
                  fields_query_live: event.value,
                  fields_query_edited: query_query != event.value
                });
                input-debounced:AMP.setState({
                  fields_query_live: event.value
                });
              "
              value=""
              [value]="fields_query"
            >
            {{> ../icon/map-pin.snip.html}}
          </label>
        </div>

        <div class="xs-hide sm-hide">
          <label class="input-icon shadow rounded">
            <input
              class="input input-big rounded"
              list="locations"
              type="text"
              name="query"
              placeholder="Where would you like to go?"
              on="
                change:AMP.setState({
                  fields_query: event.value,
                  fields_query_live: event.value,
                  fields_query_edited: query_query != event.value
                });
                input-debounced:AMP.setState({
                  fields_query_live: event.value
                });
              "
              value=""
              [value]="fields_query"
            >
            {{> ../icon/map-pin.snip.html}}
          </label>
        </div>

        <amp-list
          class="inline-list clip"
          layout="flex-item"
          src="/api/places?types=(regions)&types=(cities)&input="
          [src]="'/api/places?types=(regions)&types=(cities)&input=' + fields_query_live"
        >
          <template type="amp-mustache">
            {{=[[ ]]=}}
            <datalist id="locations">
              {{#predictions}}
              <option value="{{description}}">
              {{/predictions}}
            </datalist>
            [[={{ }}=]]
          </template>
        </amp-list>

        <div class="flex my2 travel-hero-search-dates">
          <label
            class="date-input focus"
            [class]="'date-input focus' + (fields_departure ? ' date-input-touched' : '')"
          >
            <input
              type="date"
              placeholder="yyyy-mm-dd"
              pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"
              title="yyyy-mm-dd"
              name="departure"
              on="
                change:AMP.setState({
                  fields_departure: true,
                  fields_departure_edited: true
                })
              "
            >
            {{> ../icon/plane-taking-off.snip.html}}
            <div class="date-input-label">
              Departure
            </div>
          </label>
          <label
            class="date-input focus"
            [class]="'date-input focus' + (fields_return ? ' date-input-touched' : '')"
          >
            <input
              type="date"
              placeholder="yyyy-mm-dd"
              pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"
              title="yyyy-mm-dd"
              name="return"
              on="
                change:AMP.setState({
                  fields_return: true,
                  fields_return_edited: true
                })
              "
              disabled
              [disabled]="!fields_departure"
            >
            {{> ../icon/plane-landing.snip.html}}
            <div class="date-input-label">
              Return
            </div>
          </label>
        </div>

        <div class="md-hide lg-hide">
          <button
            class="btn rounded semibold white block layout-fill bg-purple btn-big"
            type="button"
            {{> ../util/apply-button-props.snip.html}}
          >
            <span class="h3">Find Adventures &amp; Tours</span>
          </button>
        </div>

        <div class="xs-hide sm-hide">
          <button
            class="btn rounded semibold white bg-purple btn-big"
            type="button"
            {{> ../util/apply-button-props.snip.html}}
          >
            <span class="h3">Find Adventures &amp; Tours</span>
          </button>
        </div>
      </div>
      <!--/ Search Form -->
      <div class="center my1 md-hide lg-hide">
        <button
          class="btn gray"
          on="tap:AMP.setState({ui_hero: false})"
        >
          Discover adventures {{> ../icon/caret-down-small.snip.html}}
        </button>
      </div>
    </div>
  </div>
</section>
{{/partials.hero}}
<!--/ Hero -->
