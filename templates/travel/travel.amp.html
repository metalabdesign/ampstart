<!doctype html>

<!---
Copyright 2017 The AMP Start Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{{#travel}}
<html âš¡>
  {{> ../../utils/amp-page-head.snip.html}}
  <body>
    {{> ../../components/travel/util/initial-state.snip.html}}


<!--     <form
      method="POST"
      target="_top"
      action-xhr="/api/search"
      on="
        submit:AMP.setState({loading: true});
        submit-success:AMP.setState({
          loading: false,
          loaded: true,
          viewIndex: 1,
          results: event.response.results,
          stats: event.response.stats
        });
        submit-error:AMP.setState({
          loading: false,
          error: event.response.error
        });
      "
    > -->
      <amp-carousel
        class="ampstart-travel__views"
        width="100vw"
        height="100vh"
        type="slides"
        [slide]="viewIndex"
        on="slideChange:AMP.setState({viewIndex: event.index})"
      >
        <section data-view="search">
          <div class="overflow-scroll">
            {{> ../../components/travel/search-navbar/search-navbar.snip.html}}

            {{> ../../components/travel/hero/hero.snip.html}}

            {{> ../../components/travel/discover/discover.snip.html}}

            {{> ../../components/travel/activities/activities.snip.html}}

            {{> ../../components/travel/popular/popular.snip.html}}

            {{> ../../components/travel/featured/featured.snip.html}}

            {{> ../../components/travel/search/search.snip.html}}

            {{> ../../components/travel/footer/footer.snip.html}}
          </div>
        </section>
        <section data-view="results">
          <div class="overflow-scroll">
            {{> ../../components/travel/results-navbar/results-navbar.snip.html}}

            {{> ../../components/travel/filter-bar/filter-bar.snip.html}}

            <amp-list
              class="block-list"
              layout="flex-item"
              {{> ../../components/travel/util/list-src.snip.html}}
            >
              <template type="amp-mustache">
                {{=[[ ]]=}}
                {{#results}}
                <div>
                  {{name}}<br/>
                  {{location.city}}<br/>
                  {{price.value}}
                </div>
                {{/results}}
                [[={{ }}=]]
              </template>
            </amp-list>

            {{> ../../components/travel/footer/footer.snip.html}}
          </div>
        </section>
      </div>
    <!-- </form> -->
  </body>
</html>
{{/travel}}
