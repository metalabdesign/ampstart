<!doctype html>

<!---
Copyright 2017 The AMP Start Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{{#gallery}}
<html âš¡>
  {{> ../../utils/amp-page-head.snip.html}}
  <body>
    {{> ../../components/gallery/header/header.snip.html}}
    {{> ../../components/gallery/sidebar/sidebar.snip.html}}
    <main id="content" class="ampstart-gallery-base-content" role="main">
      <svg
        device-parallax="-100"
        class="ampstart-gallery-inner-background-1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 388 809"
      >
        <path
          d="
            M7,142.5 C7,245 124.5,286 124.5,373 C124.5,460 47.5,579.367391
            47.5,679 C47.5,778.632609 140.5,802 198,802 C255.5,802 338,803.5
            338,671.5 C338,539.5 321.5,560.5 321.5,444.5 C321.5,328.5 381,274
            381,134 C381,-6 268.5,8 203,8 C137.5,8 7,40 7,142.5 Z
          "
          stroke="none"
          fill="#F5F6FD"
        ></path>
      </svg>
      <svg
        device-parallax="-80"
        class="ampstart-gallery-inner-background-2"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1167 599"
      >
        <path
          d="
            M8,359.5 C8,503 64.5,538.5 185.5,538.5 C306.5,538.5 335.554256,508.5
            471.5,508.5 C607.445744,508.5 737,594 879.5,594 C1022,594 1159,543.5
            1159,299.5 C1159,55.5 1062.73379,5 902,5 C741.266207,5 689,220
            568,220 C447,220 234.617034,147.5 143,147.5 C51.3829655,147.5 8,216
            8,359.5 Z
          "
          stroke="none"
          fill="#F5F6FD"
        ></path>
      </svg>
      {{> ../../components/gallery/hero/hero.snip.html}}
      <section class="ampstart-gallery-base-section ampstart-gallery-base-rich-text">
        <div class="ampstart-gallery-base-container">
          <div class="clearfix">
            <div class="col col-12 md-col-9">
              <p class="ampstart-gallery-base-invert relative z1">
                Vestibulum sit nibh. Et aliquam dolor. Sodales ac dui. Sed erat lacinia maecenas fusce accumsan vehicula aliquam nibh lorem dolor nulla. Facilisi quis tellus. Ut id sed. Porttitor habitant viverra proident scelerisque duis duis et turpis. Integer est condimentum. Suscipit nulla integer. Phasellus facilis vestibulum. Con pellentesque sed. Urna in risus sem fusce suscipit. In sed integer. Imperdiet mauris sit. Pretium vitae in. Fusce et vehicula. Nibh a aliquam. Proin massa posuere. Quis pulvinar vehicula.
              </p>
            </div>
          </div>
          <div class="ampstart-gallery-inner-3d-row ampstart-gallery-inner-perspective">
            <div class="ampstart-gallery-inner-3d-row-img-left">
              <div device-parallax="20" class="ampstart-gallery-inner-perspective">
                <amp-img
                  width="450"
                  height="350"
                  src="https://unsplash.it/450/350?image=334"
                  srcset="
                    https://unsplash.it/450/350?image=334 1x,
                    https://unsplash.it/900/700?image=334 2x
                  "
                  layout="responsive"
                ></amp-img>
              </div>
            </div>
            <div class="ampstart-gallery-inner-3d-row-img-center">
              <div device-parallax="100" class="ampstart-gallery-inner-perspective">
                <amp-img
                  width="450"
                  height="390"
                  src="https://unsplash.it/450/390?image=893"
                  srcset="
                    https://unsplash.it/450/390?image=893 1x,
                    https://unsplash.it/900/780?image=893 2x
                  "
                  layout="responsive"
                ></amp-img>
              </div>
            </div>
            <div class="ampstart-gallery-inner-3d-row-img-right">
              <div device-parallax="60" class="ampstart-gallery-inner-perspective">
                <amp-img
                  width="400"
                  height="500"
                  src="https://unsplash.it/400/500?image=887"
                  srcset="
                    https://unsplash.it/400/500?image=887 1x,
                    https://unsplash.it/800/1000?image=887 2x
                  "
                  layout="responsive"
                ></amp-img>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="ampstart-gallery-base-section ampstart-gallery-base-rich-text">
        <div class="ampstart-gallery-base-container">
          <div class="clearfix">
            <div class="col col-12 md-col-8">
              <h2 class="ampstart-gallery-base-invert relative z1">Exhibit Name</h2>
              <p class="ampstart-gallery-base-invert relative z1">
                Suspendisse quisque suscipit mauris ac culpa. Duis etiam mauris. Lacinia volutpat ut. Congue etiam lobortis. Ultrices aliquam rutrum. Dignissim fermentum odio amet id tellus. At taciti imperdiet. Consequat ut blandit. Amet justo posuere. Metus ligula amet. Vehicula libero enim. Lectus sed elit ante dui quis leo nobis.
              </p>
            </div>
            <div class="col col-12 md-col-4">
              <amp-img
                class="ampstart-gallery-inner-img-right xs-hide md-hide lg-hide"
                device-parallax="-30"
                class="ampstart-gallery-inner-img-right"
                width="400"
                height="416"
                src="https://unsplash.it/400/416?image=949"
                srcset="
                  https://unsplash.it/400/416?image=949 1x,
                  https://unsplash.it/800/824?image=949 2x
                "
                layout="responsive"
              ></amp-img>
              <amp-img
                class="ampstart-gallery-inner-img-right xs-hide sm-hide"
                device-parallax="-60"
                class="ampstart-gallery-inner-img-right"
                width="400"
                height="416"
                src="https://unsplash.it/400/416?image=949"
                srcset="
                  https://unsplash.it/400/416?image=949 1x,
                  https://unsplash.it/800/824?image=949 2x
                "
                layout="responsive"
              ></amp-img>
            </div>
          </div>
        </div>
        <amp-img
          device-parallax="-30"
          class="ampstart-gallery-inner-img-right sm-hide md-hide lg-hide"
          width="400"
          height="416"
          src="https://unsplash.it/400/416?image=949"
          srcset="
            https://unsplash.it/400/416?image=949 1x,
            https://unsplash.it/800/824?image=949 2x
          "
          layout="responsive"
        ></amp-img>
      </section>
      <section class="ampstart-gallery-base-section ampstart-gallery-base-rich-text">
        <div class="ampstart-gallery-base-container">
          <div class="clearfix">
            <div class="col col-12">
              <h2 class="ampstart-gallery-base-invert relative z1">Artist Name</h2>
            </div>
            <div class="col col-12 md-col-8">
              <p class="ampstart-gallery-base-invert relative z1">
                Velit sed quis. Tempus in sed integer morbi lacus ac luctus elit phasellus elementum gravida. Dui at consectetuer. Est in pellentesque. Consequat sapien consectetuer. Nam lacinia erat mollis sodales in magna nec sapien ultrices scelerisque quam. Ultrices nunc dolor voluptates euismod morbi amet in mi libero elit malesuada. Fringilla potenti magna. Orci ipsum est ac nunc eget maecenas ligula dui. Eu a suspendisse. Neque at volutpat. Nam ut ligula. Cras turpis urna consequuntur varius tempus aenean maecenas purus sem faucibus facilisis penatibus volutpat proin. Wisi libero in. Venenatis tellus elementum.
              </p>
            </div>
            <div class="col col-12 md-col-4">
              <amp-img
                class="ampstart-gallery-inner-img-right-small"
                device-parallax="-100"
                width="217"
                height="217"
                src="https://unsplash.it/217/217?image=942"
                srcset="
                  https://unsplash.it/217/217?image=942 1x,
                  https://unsplash.it/434/434?image=942 2x
                "
              ></amp-img>
            </div>
          </div>
        </div>
      </section>
      {{> ../../components/gallery/map/map.snip.html}}
    </main>
<script type="text/javascript">
  (function () {
    'use-strict';
    var motionScale = 5;
    var scrollScale = 1;
    var motionRange = 20;
    var filterRate = 0.15;
    var motionDamping = 0.80;

    var accelerationX = 0;
    var accelerationY = 0;

    var motionX = 0;
    var motionY = 0;

    var updateRequest = null;
    var parallaxElements;
    var parallaxFactor;


    function clamp(min, max, number) {
      return Math.min(max, Math.max(min, number));
    }

    function applyUpdate() {
      var delta, i, len, element, range, motionTransformX, motionTransformY,
        rect, rangeY, progressY, scrollTransformY,
        docWidth, docHeight, bodyWidth, bodyHeight, rectmin;

      docWidth = window.document.documentElement.clientWidth;
      docHeight = window.document.documentElement.clientHeight;

      bodyWidth = window.document.body.clientWidth;
      bodyHeight = window.document.body.clientHeight;

      for (i = 0, len = parallaxElements.length; i < len; i++) {
        element = parallaxElements[i].element;
        range = parallaxElements[i].range;

        motionTransformX = Math.max(0, range) * motionScale *
          clamp(-motionRange * 0.5, motionRange * 0.5, motionX) / motionRange;

        motionTransformY = Math.max(0, range) * motionScale *
          clamp(-motionRange * 0.5, motionRange * 0.5, -motionY) / motionRange;

        rect = element.getBoundingClientRect();

        rectmin = Math.min(rect.width, rect.height);

        if (bodyHeight > docHeight) {
          rangeY = Math.min(docHeight + rect.height, 2 * ((rect.bottom - parallaxElements[i].currentY) + document.body.scrollTop))
          progressY = clamp(0, 1, (rect.bottom - parallaxElements[i].currentY) / rangeY) - 0.5;
          scrollTransformY = range * scrollScale * progressY;
        } else {
          scrollTransformY = 0;
        }

        parallaxElements[i].currentX = motionTransformX * 0.01 * rectmin;
        parallaxElements[i].currentY = (motionTransformY + scrollTransformY) * 0.01 * rectmin;

        element.style.transform = 'translate3d(' +
          parallaxElements[i].currentX + 'px, ' +
          parallaxElements[i].currentY + 'px, ' +
        '0)';
      }
    }

    function queueUpdate() {
      applyUpdate();
      if (updateRequest) {
        window.cancelAnimationFrame(updateRequest);
      }

      window.requestAnimationFrame(applyUpdate)
    }

    function graph(val, id) {
      var node = document.getElementById(id);

      if (val < 0) {
        node.style.left = (50 - Math.abs(val)).toFixed(3) + '%';
        node.style.right = '50%';
      } else {
        node.style.left = '50%';
        node.style.right = (50 - Math.abs(val)).toFixed(3) + '%';
      }
    }

    function initialize() {
      parallaxElements = [].map.call(
        window.document.querySelectorAll('[device-parallax]'),
        function(element) {
          return {
            element: element,
            range: parseFloat(element.getAttribute('device-parallax')),
            currentX: 0,
            currentY: 0,
          };
        }
      );


      if (parallaxElements.length) {
        window.addEventListener('devicemotion', function(event) {
          accelerationX = filterRate * event.acceleration.x + (1 - filterRate) * accelerationX;
          accelerationY = filterRate * event.acceleration.y + (1 - filterRate) * accelerationY;

          motionX += accelerationX * event.interval;
          motionY += accelerationY * event.interval;

          motionX *= motionDamping;
          motionY *= motionDamping;

          queueUpdate();
        });

        window.addEventListener('scroll', function() {
          queueUpdate();
        });

        window.addEventListener('resize', function() {
          queueUpdate();
        });

        applyUpdate();
      }
    }

    initialize();

  })();
</script>
  </body>
</html>
{{/gallery}}
